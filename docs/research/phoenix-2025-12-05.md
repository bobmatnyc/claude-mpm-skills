# Phoenix (Official + Community) Research — 2025-12-05

Sources reviewed: Phoenix official overview (hexdocs.pm/phoenix/overview.html, guides on routing/controllers/channels/liveview), Ecto guides, Telemetry/Opentelemetry Phoenix/Ecto docs, community posts from Plataformatec/Elixir core blogs, DockYard engineering notes on LiveView/Presence, Fly.io blog posts on Phoenix deployment/clustering.

## Key Takeaways
- Phoenix remains split between **HTML/LiveView** and **API/Channel** tracks; both rely on contexts + Ecto as the domain layer.
- **Contexts** are the unit of ownership; controllers/channels/LiveViews call into contexts rather than direct Repo usage.
- **Routing**: pipelines stay short; version APIs via nested scopes. `socket "/socket"` is still standard for Channels; LiveView uses `/live`.
- **Channels + Presence**: Presence built on CRDTs over PubSub; track in `join` and push state. Authorization should happen in `UserSocket.connect/3` and `Channel.join/3`.
- **LiveView**: streams for large collections, `assign_async`/`assign_new` for efficiency; `phx-update` strategies minimize diffs.
- **Telemetry**: Phoenix and Ecto emit Telemetry events; opentelemetry_phoenix/ecto are the preferred exporters.
- **Releases/ops**: `mix release`, `config/runtime.exs`, `libcluster` for multi-node, ETS/Cachex for hot caches, Oban for jobs.

## Skill Gaps Discovered
- API + Channels deserve a dedicated skill separate from LiveView (REST, controllers, plugs, versioning, Channels/Presence, auth, testing).
- LiveView skill should stay focused on UI/live patterns; API/Channels skill covers WebSocket and JSON workflows.
- Deployment/ops patterns are covered lightly inside each skill; a future dedicated “Elixir/Phoenix Ops” skill could deepen clustering, releases, and observability.

## Decisions
- Added **phoenix-api-channels** skill to cover REST/JSON controllers, Channels, Presence, auth, testing, and telemetry alongside the existing LiveView skill.
- Kept LiveView skill focused on real-time UI; cross-referenced OTP/Ecto patterns through contexts in both.

## Future Considerations
- Dedicated **Ecto patterns** skill (migrations, multi-repo, read replicas, tenant partitioning).
- **Phoenix Ops** skill (releases, clustering, libcluster strategies, runtime config, blue/green deploys, secrets management).
- **Auth** deep dive (Phoenix auth generators, tokens/sessions, LiveView session handling, rate limiting, signed URLs).
